<div class="second-nav">
    <ul>
        <li><a href="/contractmanager/displayPendingContracts" class="link-nav ">Contracts</a></li>
        <li><a href="/contractmanager/alertsContracts" class="link-nav">Alerts</a></li>
        <li><a href="/contractmanager/indicators" class="link-nav">Indicators</a></li>
        <li><span><a href="" class="disabled">Permissions</a></span></li>
    </ul>
</div>

<div class="alertas-container">
    <div class="nav-alertas">
        <h2>My profile</h2>
        <a href="/contractmanager/profile/changePassword" class="btn">Change Password</a>       
        <a href="/contractmanager/" ><img id="back-btn" src="/images/icons/back-btn.png"></a>
</div>
<div class="profile-container">
        <div class="profile-info-container border">
                <div class="block">
                        <li><strong>Nombre: </strong>{{user.name}}</li>
                        <li><strong>Apellido: </strong>{{user.surname}}</li>
                        <li><strong>Email: </strong>{{user.email}}</li>
                        <li><strong>Role: </strong>
                            <ul class="roles-list-profile">
                                {{#each user.role}}
                                <li>{{this}} <a href="/contractmanager/deleteRole/{{this}}"><span class="delete" >&times;</span></li></a>
                                {{/each}}
                            </ul>
                        </li>
                </div>
        </div>        
        <div class="select-user">
            <form method="POST" id="registerForm" action="/contractmanager/profile/addRoles/{{user.email}}">
                <div class="select">
                    <select name="role">
                        <option hidden selected value="Select your Role and Department">Select your Role and Department</option>
                        <option value="Comercial - Autorizado">Comercial - Autorizado</option>
                        <option value="Comercial - Director">Comercial - Director</option>
                        <option value="Control de Riesgos - Autorizado">Control de Riesgos - Autorizado</option>
                        <option value="Control de Riesgos - Director">Control de Riesgos - Director</option>
                        <option value="Operaciones - Autorizado">Operaciones - Autorizado</option>
                        <option value="Operaciones - Director">Operaciones - Director</option>
                        <option value="PRL - Autorizado">PRL - Autorizado</option>
                        <option value="PRL - Director">PRL - Director</option>
                        <option value="Dirección General">Dirección General</option>
                    </select>
                </div>
                <p id="addRoleSelectorBtn" class="underline-link forgot-password"  onclick="addRoleSelectorBtn(this)">Add more roles/departments</p>
                <button class="btn btn-blue" type="submit" value="Update">Update</button>
            </form>
        </div>
</div>

<script>

function addRoleSelectorBtn(){
    addbtn = document.getElementById("addRoleSelectorBtn")
    registerForm = document.getElementById("registerForm")
    selector = document.getElementsByClassName("select")[0]
    numRoles = document.getElementsByClassName("select").length
    selectorClonado = selector.cloneNode(true)
    if (numRoles<5){
        selectorClonado.children[0].name="role"+numRoles
        console.log(numRoles)
        registerForm.insertBefore(selectorClonado,addbtn)
    }
}
</script>